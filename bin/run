#!/usr/bin/env bash

export PYTHONPATH=.
day=$1
prefix="aoc/y2024/d$1"

function run() {
  python3 bin/suite.py ${day} < ${prefix}/sample.txt
  python3 <(module="aoc.y2024.d${day}.solution" envsubst < bin/main.py.tpl) < ${prefix}/input.txt
}

function main() {
  run
  while inotifywait -qq -e close_write ${prefix}/solution.py; do
    run
  done
}

main